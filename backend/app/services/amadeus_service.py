from random import random, randint

from api_clients.amadeus_client import AmadeusClient
from app.services.postgres_service import PostgresService
from db.models import Trip, City, TripItem, TripItemsTypes

from app import schemas
from db.client import PostgresClient


class AmadeusService:
    def __init__(self, amadeus_client: AmadeusClient, db_service: PostgresService):
        self.client = amadeus_client
        self.db_client = db_service
        self._hotels_url = ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSzJpLdBeB2GgOqePJPdf30g-qfAkSuU4uv-w&s",
                           "https://www.atorus.ru/sites/default/files/upload/image/News/58032/DJI_0452.jpg",
                            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNOBZztuOtSZliW0O0LoPxolZRxemCtw6gFQ&s",
                            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8IiwTL2brUARhxPjifmqUsNZOH_NEmdGCYQ&s",
                           "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNOBZztuOtSZliW0O0LoPxolZRxemCtw6gFQ&s",
                           "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYoc4Pt7BFwiP00kfNqcgx0bU77VidgCO6bw&s",
                          "data:image/jpeg;base64,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",
                           "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYafeC6Xd7luJea_FyJCMFvc47oBGOeyBQ4A&s",
                            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRm05GPO_SYDwfJO2DX0Pn2o421Jn9jSG5bhQ&s",
                           "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRm05GPO_SYDwfJO2DX0Pn2o421Jn9jSG5bhQ&s" ]
    async def get_hotels(self,trip_id: int, airport_code: str = "NYC"):
        hotels = await self.client.get_best_hotels(airport_code)
        len_hotels = max(10, len(hotels))

        for idx, hotel in enumerate(hotels['data'][:len_hotels]):
            new_trip_item = schemas.TripItemCreate(
                name=hotel["name"],
                trip_id= trip_id,
                type = "hotel",
                description = "best hotel ever",
                details = {},
                cost = randint(2000, 10000),
                link_url = None,
                image_url = self._hotels_url[idx]
            )
            await self.db_client.create_trip_item(new_trip_item)

